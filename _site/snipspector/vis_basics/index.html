<!DOCTYPE html>
<html>
<head>
	<title>Visualization basics</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="shortcut icon" type='image/x-icon' href="/img/favicon.ico">	
	<link rel="stylesheet" type="text/css" href="/css/external/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/css/normalize.css">
	<link rel="stylesheet" type="text/css" href="/css/font-awesome/css/font-awesome.min.css">

	<link rel="stylesheet" type="text/css" href="/css/solarized_dark.css">
	<link rel="stylesheet" type="text/css" href="/css/tutorials.css">
	<link rel="stylesheet" type="text/css" href="/css/style.css">
	<link rel="stylesheet" type="text/css" href="/css/toc.css">

	
		<link rel="stylesheet" href="/css/tutorials.css">
	
		<link rel="stylesheet" href="/css/solarized_dark.css">
	

	<!-- needed for tutorial specific css -->
	
</head>
<body>	
	

	<!--
	<div class="container" id="main-container">
		<div class="topNavbar">
			<div class="navbar-div" id="logo">
			<a class="logoLink" href="/">BIOJS</a>
			</div>
			<div class="navbar-div" id="navbar-links2">
				<li>
			
			</div>
		</div>
	-->


    <div id="biojs-menu">
<div class="Menu">
        <div class="list">
            <div class="logoDiv">
                <img src="/img/logo.png" id="logoImg">
                <div class="logoDivName">BioContainers Education</div>
            </div>


        <span class="item-heading"> Basics </span>
			
	
				<a class="item " href="/101/intro/">Intro</a>
			
	
				<a class="item " href="/101/what_is_biocontainers/">BioContainers?</a>
			
	
				<a class="item " href="/101/getting_started/">Getting started</a>
			
	
				<a class="item " href="/101/docker-nutshell/">Docker in NutShell</a>
			
	
				<a class="item " href="/101/biocontainers-architecture/">BioContainers Architecture</a>
			
	
				<a class="item " href="/101/running-example/">BioContainer example</a>
			
	
				<a class="item " href="/101/publish_it/">Publish it</a>
			
	
				<a class="item " href="/101/other_resources/">Other resources</a>
			
		

        <span class="item-heading"> Beginner tutorial </span>
			
	
				<a class="item " href="/details/continuous_integration/">Continuous integration</a>
			
		

        <span class="item-heading"> User tutorial </span>
			
		

        <span class="item-heading"> Developer tutorial </span>
			
		

        <span class="item-heading"> Advanced Tutorial </span>
			
	
				<a class="item " href="/snipspector_adv/tools/">Tools overview</a>
			
	
				<a class="item " href="/snipspector_adv/vis_d3/">Visualization: D3</a>
			
	
				<a class="item " href="/snipspector_adv/parser_real_data/">Parser: using real data</a>
			
		

        <span class="item-heading"> BioContainers FAQS </span>
			
	
				<a class="item " href="/faqs/manually-remove-dockerboot/">Remove boot2docker</a>
			
		
    </div>
</div>

	</div>

	<div id="biojs-main-content">
		
		<div class="heading row">
   
  <div class="col-md-6 col-xs-7 col-lg-5" id="contentTitleCell">
	  <span class="contentTitle">Visualization basics </span>

	  <a class="gitStar" style="width:150px;" href="https://github.com/biocontainers/edu/blob/master/series/developer-manual/40_visualization_basic.md" target="_blank"><span class="glyphicon glyphicon-pencil" style="font-size:14px;" ></span> Improve this page</a>
  </div>

	<div class="col-xs-2 col-md-3">
		<div id="biojs-iconnav-glyphs">
	  <a class="git" href="https://github.com/biocontainers/" target="_blank"><i class="fa fa-github-alt"></i></a>

	  <a class="git"  href="http://biocontainers.pro" target="_blank"><i class="fa fa-home"></i></a>
	  <a class="git hidden-xs hidden-sm" href="https://kiwiirc.com/client/irc.freenode.net/biocontainers" target="_blank"><i class="fa fa-weixin"></i></a>
	  <a class="git hidden-xs hidden-sm" id="bookmark-link" href="#"><i class="fa fa-bookmark"></i></a>

  </div>	

<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
    $('#bookmark-link').click(function() {
        if (window.sidebar && window.sidebar.addPanel) { // Mozilla Firefox Bookmark
            window.sidebar.addPanel(document.title,window.location.href,'');
        } else if(window.external && ('AddFavorite' in window.external)) { // IE Favorite
            window.external.AddFavorite(location.href,document.title); 
        } else if(window.opera && window.print) { // Opera Hotlist
            this.title=document.title;
            return true;
        } else { // webkit - safari/chrome
            alert('Press ' + (navigator.userAgent.toLowerCase().indexOf('mac') != - 1 ? 'Command/Cmd' : 'CTRL') + ' + D to bookmark this page.');
        }
    });
});
</script>

	  <a class="gitStar hidden-xs hidden-sm" style="width:150px;" id="biojs-iconnav-help" href="https://gitter.im/biocontainers/Lobby" target="_blank"><span class="glyphicon glyphicon-bullhorn" style="font-size:17px;" ></span> Get help</a>

  </div>	
  <div class="col-md-2 col-lg-2 hidden-xs hidden-sm" id="social-media-share">

    <!-- share it: twitter, google -->
    <div style="height:25px"> <a href="https://twitter.com/share" class="twitter-share-button" style="width: 40px">Tweet</a>

      <script>
        ! function(d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0],
                    p = /^http:/.test(d.location) ? 'http' : 'https';
                if (!d.getElementById(id)) {
                    js = d.createElement(s);
                    js.id = id;
                    js.src = p + '://platform.twitter.com/widgets.js';
                    fjs.parentNode.insertBefore(js, fjs);
                }
            }(document, 'script', 'twitter-wjs');
      </script>
      <script src="https://apis.google.com/js/platform.js" async defer></script>
	  <div class="share-google-button">
      	<div class="g-plus" data-action="share" data-annotation="bubble"
      data-align="right"></div>
	  </div>
    </div>

    </div>
	

    <div class="author col-md-2 col-xs-2 hidden-xs">
			<div class="tutorial-item"><span class="glyphicon glyphicon-calendar" style="font-size:14px;margin-bottom: 2px;"></span> 19 Oct 2016</div>
	        
			<!--<div class="tutorial-item">Contributor(s): David, Seb</div>-->
	        
			
	        <div class="tutorial-item"><span class="glyphicon glyphicon-time" style="font-size:14px;margin-bottom: 2px;"></span> 15 minutes </div>
	        
	</div>

</div>

<div class="pullButton pullButton-mob">
	<i class="fa fa-bars fa-2x"></i>
</div>


<div class="containerBody">
	<!--
    <div class="leftPanel">

		

    </div>
	-->
    <div class="rightPanel">



        <div class="static-content">

            <div id="explanation" style="display:none">
                <div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-check" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>We will use this icon to mark check points.
A check point is a way for you to check how you are doing.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-minus-sign" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>For most of the steps in this tutorial we will
provide the code as it should look after the task. It is tempting, we
know, but please, please, do not go for the “copy&amp;paste” way.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-road" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>We will use this icon to challenge you
with additional code-related tasks so you can go further at your own
pace. No inline answer will be provide for those challenges but we will
give you some guidelines and tips. By the way, within the instructions
we will use <em>an italic font</em> to refer to variables and pieces of code.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-bell" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>We will use this icon to ask you some questions related to the task your are working on.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-info-sign" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>Additional info and resources - this is not essential to complete the tutorial, but very interesting.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-gift" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>Tips that might help you on this task.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-hand-up" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>If you are following this tutorial as part of a workshop, do not hesitate to
raise your hand and share any questions or comments you may have.
If you are doing it by your own, you still can raise your hand in our
mailing list, just join our <a href="https://groups.google.com/forum/#!forum/biojs">Google Group</a>.</p>
</div></div></div>


            </div>

            <div class="clearfix"> </div>

<!--

-->
            <div class="alert alert-danger "> <a href="#" class="close" data-dismiss="alert">&times;</a>
                    <span class="glyphicon glyphicon-warning-sign" style="font-size:22px"></span> &nbsp; This visualization guide is very rudimentary and outdated. It will be updated soon.</div>

<h2 id="create-a-new-package">1) Create a new package</h2>

<p>Go one directory up (<code>cd ..</code>) and create a new project <code>biojs-vis-snipspector</code>.
Now we want to create a visualization component, so please answer <code>yes</code> to the generator.</p>

<pre><code>slush biojs
</code></pre>

<p>This tutorial is aimed to get you used to your development workflow,
therefore we will avoid to use third-party visualization libraries and
we will only use the standard DOM API and native JavaScript functions to create a basic <a href="http://requirebin.com/?gist=c9248b0840448995758a">visualization</a>.
In the advanced tutorial you will learn how to represent this data by using fancy D3 Charts.</p>

<h2 id="installing-the-parser-as-dependency">2) Installing the parser as dependency</h2>

<p>In <code>npm</code> this is very easy, just run.</p>

<pre><code>npm install biojs-io-snipspector --save
</code></pre>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-bell" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>What does <code>--save</code> mean? <a href="https://www.npmjs.org/doc/cli/npm-install.html">Help</a></p>
</div></div></div>

<p>To get our parsed data, please have a look at the previous <a href="/series/101/50_real_parser.html">tutorial</a> with real data.</p>

<pre><code>parser.read("http://files.biojs.net/chromosomes/manny", function(result){
  var genome = result;
})
</code></pre>

<h2 id="installing-the-parser-as-dependency-1">3) Installing the parser as dependency</h2>

<p>We require the parser from the previous tutorial.</p>

<p>File: <code>lib/index.js</code></p>

<pre><code>var parser = require("biojs-io-snipspector");
var vis = function(opts){
  var divEl = opts.el;
  var self = this; // save reference to itself (in callbacks this is different)
  parser.read("http://files.biojs.net/chromosomes/manny.dummy", function(result){
    console.log(result);
    var resText = document.createElement("div")
    resText.textContent = Object.keys(result).length + " chromosome(s) found.";
	opts.el.appendChild(resText)
  })
};
module.exports = vis;
</code></pre>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-gift" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>There is a JavaScript development enviroment in the browser which supports <code>require</code>.</p>

<ul>
  <li>Open <a href="http://requirebin.com"><code>requirebin.com</code></a></li>
  <li>Paste the 11 lines</li>
  <li>Remove the last line <code>module.exports = vis</code> (<code>module</code> is not defined in RequireBin)</li>
  <li>Add (as a new line) on the bottom <code>vis({el: document.body})</code></li>
  <li>Hit <strong>Rebuild</strong></li>
</ul>

</div></div></div>

<h2 id="build-a-browserified-version">4) Build a browserified version</h2>

<p>We recommend <code>browserify</code>. It is preinstalled, just run</p>

<pre><code>npm run build
</code></pre>

<p>This will bundle all your dependencies and build the file <code>build/&lt;your-name&gt;.js</code>.</p>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-gift" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>If you are lazy, you can use <code>watchify</code> to recompile on every file change.  </p>

<pre><code>npm run watch
</code></pre>
</div></div></div>

<h2 id="see-the-first-output">5) See the first output</h2>

<p>File: <code>examples/simple.js</code></p>

<pre><code>var app = require("&lt;your package name&gt;");
app({el: yourDiv});
</code></pre>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-info-sign" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p><code>sniper</code> is a local file server that generates a HTML file on the file.
Furthermore it automatically generates a div container and gives you access to it
via <code>yourDiv</code>.</p>

<ul>
  <li>You can always also define your own HTML in <code>&lt;same-filename&gt;.html</code> (e.g. <code>examples/simple.html</code>).
(You only need to put DOM elements into this HTML file - there is no need for <code>html</code>, <code>head</code> or <code>body</code>).</li>
  <li>If you have a special example snippet that requires more dependencies you can create a <code>&lt;same-filename.json</code> (e.g. <code>examples/simple.json</code>).
and extend the sniper configuration from your <code>package.json</code> just for this snippet. Nearly all attributes are supported (e.g. <code>js</code> or <code>css</code>).</li>
</ul>
</div></div></div>

<p>You can now run <code>sniper</code> - a simple file server that builds the snippets on the file and hence simulates the BioJS registry.</p>

<pre><code>npm run sniper
</code></pre>

<p>Now browse to <a href="http://localhost:9090/examples"><code>localhost:9090/examples/</code></a>.</p>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-gift" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>If you are lazy, you can use <code>prunner</code> for your subsequent development.</p>

<pre><code>npm run w
</code></pre>

<p>(this will run <code>npm run watch</code> and <code>npm run sniper</code> in one shell)</p>
</div></div></div>

<h3 id="b-plain-old-html-alternative-way">b) Plain, old html (alternative way)</h3>

<p>You only need to create a very simple HTML file to call your visualization module.</p>

<div class="alert alert-warning "> <a href="#" class="close" data-dismiss="alert">&times;</a>
                    <span class="glyphicon glyphicon-warning-sign" style="font-size:22px"></span> &nbsp; You don’t need to create any <code>html</code> file when you use the BioJS sniper.
So if you like the sniper - you can skip this subsection.</div>

<p><code>simple.html</code></p>

<pre><code>&lt;div id=simple&gt;&lt;/div&gt;
&lt;script src="build/biojs-template.js"&gt;&lt;/script&gt;
&lt;script&gt;
var app = require("&lt;your package name&gt;");
app.template();
&lt;/script&gt;
</code></pre>

<div class="alert alert-warning "> <a href="#" class="close" data-dismiss="alert">&times;</a>
                    <span class="glyphicon glyphicon-warning-sign" style="font-size:22px"></span> &nbsp; Don’t forget to run it on a server! Otherwise Manny’s chromosome data is not loaded.</div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-info-sign" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>You can run a local server easily<br />
Install: <code>sudo npm install -g http-server</code><br />
Run: <code>http-server</code> (in the package root dir)
Address: <a href="http://localhost:8080"><code>localhost:8080</code></a></p>
</div></div></div>

<h2 id="extend-the-visualization">6) Extend the visualization</h2>

<h3 id="a-calculate-a-relative-percentage-per-chromosome">a) Calculate a relative percentage per chromosome</h3>

<p>We are going to use a utility library called <a href="http://underscorejs.org/">underscore</a>.
There you need to <code>require</code> the library in your program (at the top).</p>

<pre><code>var _ = require("underscore");
</code></pre>

<p>To save this dependency add <code>underscore</code> to your <code>package.json</code></p>

<pre><code>npm install underscore --save
</code></pre>

<p>Now we can calculate the total SNPs of a chromosome in a functional way.</p>

<pre><code>// count the elements in this chromosome
var total = _.reduce(result[i], function(memo,el,key){
if(key != "name")
	return memo + el
else return memo
});
</code></pre>

<p>Of course you could just write a normal loop and avoid using underscore.</p>

<h3 id="b-drawing-in-javascript">b) Drawing in JavaScript</h3>

<p>We can use <code>svg</code>.</p>

<pre><code>// @param [int] percentage relative amount of SNPs in the chromosome
// @returns [DOM] svg dom node with a rectangular bar
function createBar(percentage){
	var svgNS = "http://www.w3.org/2000/svg";  
	var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
	svg.style.height = "10px";
	svg.style.width = "100px";
	var rect = document.createElementNS(svgNS,"rect");
	rect.setAttributeNS(null,"width",percentage * 100);
	rect.setAttributeNS(null,"height",10);
	rect.setAttributeNS(null,"fill","black");
	rect.setAttributeNS(null,"stroke","none");
	svg.appendChild(rect);
	return svg;
}
</code></pre>

<p>Alternatively you could also use <code>canvas</code>.</p>

<pre><code>var canvasEl = document.createElement("canvas");
el.width = 100
el.height = 10
var ctx = canvasEl.getContext("2d");
ctx.fillRect(0,0,percentage * 100,10);
</code></pre>

<p>In this example you could even draw with plain DOM nodes.
However this is not recommended.</p>

<pre><code>var bar = document.createElement("span");
bar.style.display = "inline-block";
bar.style.width = (percentage * 100) + "px";
bar.style.backgroundColor = "blue";
bar.innerHTML = "&amp;nbsp;";
</code></pre>

<h3 id="c-creating-a-stat-row">c) Creating a stat row</h3>

<p>First we create description element to display the name of our current property.</p>

<pre><code>// format the name of the property
var desc = document.createElement("span");
desc.textContent = key;
desc.style.width = "50px";
desc.style.paddingLeft = "5px";
desc.style.display = "inline-block";
</code></pre>

<p>Then we want to display our previously defined naive bar chart.</p>

<pre><code>// show the value as barchart
var canvasChild = document.createElement("canvas");
drawBar(canvasChild, percentage);
</code></pre>

<p>And now we need to group both in a row.</p>

<pre><code>// group both values in one row
var row = document.createElement("div");
row.appendChild(desc);
row.appendChild(canvasChild);
chr.appendChild(row);
</code></pre>

<p>Remember to create <code>chr</code> when looping over the entire chromosome.</p>

<h3 id="d-outstanding-loop-over-the-chromosome">d) Outstanding: loop over the chromosome</h3>

<pre><code>// all chromosomes
for(var i=0; i &lt; result.length; i++) {
	// properties of a single chromosomes
	for(var key in result[i]){
</code></pre>

<p>If you put our code together, you should get something similar to this:</p>

<div class="collapsible">
    <pre><code data-lang="text" class="javascript ">var parser = require(&quot;biojs-io-snipspector&quot;);
var _ = require(&quot;underscore&quot;);

var vis = function(opts){
  var divEl = opts.el;
  var self = this; // save reference to itself (in callbacks this is different)
  parser.read(&quot;http://files.biojs.net/chromosomes/manny.dummy&quot;, function(result){

    for(var i=0; i &lt; result.length; i++) {
      var chr = document.createElement(&quot;div&quot;);

      // count the elements in this chromosome
      var total = _.reduce(result[i], function(memo,el,key){
        if(key != &quot;name&quot;)
           return memo + el
        else return memo
      });

      // create statistics for a single chromosome
      for(var key in result[i]){
          if(key == &quot;name&quot;) continue
          var percentage = result[i][key] / total;
          if(percentage &gt; 0.01){

            // format the name of the property
            var desc = document.createElement(&quot;span&quot;);
            desc.textContent = key;
            desc.style.width = &quot;50px&quot;;
            desc.style.paddingLeft = &quot;5px&quot;;
            desc.style.display = &quot;inline-block&quot;;

            // show the value as barchart
            var canvasChild = document.createElement(&quot;canvas&quot;);
            drawBar(canvasChild, percentage);

            // group both values in one row
            var row = document.createElement(&quot;div&quot;);
            row.appendChild(desc);
            row.appendChild(canvasChild);

            chr.appendChild(row);
          }
      }
      divEl.appendChild(chr);
    }

    function drawBar(el,percentage){
   	   el.width = 100
	   el.height = 10
       var ctx = el.getContext(&quot;2d&quot;);
       ctx.fillRect(0,0,percentage * 100,10);
    }

  })
};</code></pre>
  </div>

<h2 id="verify-your-solution">7) Verify your solution</h2>

<p>The final program could look like this:</p>

<p><a href="http://requirebin.com/?gist=c9248b0840448995758a">Demo on RequireBin</a></p>

<div class="collapsible">
    <pre><code data-lang="text" class="javascript ">var parser = require(&quot;biojs-io-snipspector&quot;);
var _ = require(&quot;underscore&quot;);

var vis = function(opts){
  var divEl = opts.el;
  var self = this; // save reference to itself (in callbacks this is different)
  parser.read(&quot;http://files.biojs.net/chromosomes/manny&quot;, function(result){

    for(var i=0; i &lt; result.length; i++) {
      var chr = document.createElement(&quot;div&quot;);

      // count the elements in this chromosome
      var total = _.reduce(result[i], function(memo,el,key){
        if(key != &quot;name&quot;)
           return memo + el
        else return memo
      });

      // header
	  var header = document.createElement(&quot;div&quot;);
      header.textContent = &quot;chr &quot;+ result[i].name;
      chr.appendChild(header);

      // create statistics for a single chromosome
      for(var key in result[i]){
          if(key == &quot;name&quot;) continue
          var percentage = result[i][key] / total;
          if(percentage &gt; 0.01){

            // format the name of the property
            var desc = document.createElement(&quot;span&quot;);
            desc.textContent = key;
            desc.style.width = &quot;50px&quot;;
            desc.style.paddingLeft = &quot;5px&quot;;
            desc.style.display = &quot;inline-block&quot;;

            // show the value as barchart
            var canvasChild = document.createElement(&quot;canvas&quot;);
            drawBar(canvasChild, percentage);

            // group both values in one row
            var row = document.createElement(&quot;div&quot;);
            row.appendChild(desc);
            row.appendChild(canvasChild);

            // dummy evts
            row.addEventListener(&quot;mouseover&quot;,mouseover,false);
            row.addEventListener(&quot;mouseout&quot;,mouseout,false);

            chr.appendChild(row);
          }
      }
      divEl.appendChild(chr);
    }

    function drawBar(el,percentage){
   	   el.width = 100
	   el.height = 10
       var ctx = el.getContext(&quot;2d&quot;);
       ctx.fillRect(0,0,percentage * 100,10);
    }

    function mouseover(evt){
      var el = this.childNodes[1];
      el.style.paddingLeft = &quot;10px&quot;;
    }

     function mouseout(evt){
      var el = this.childNodes[1];
      el.style.paddingLeft = &quot;0px&quot;;
    }

  })
};</code></pre>
  </div>

<p><!-- do not remove this empty line --></p>


           <div id="lower-link-box" class="link-box">
				 
				

				<br />	
			</div>

		</div>
	</div>

<!-- temporaroy removed 

-->

<script>
document.addEventListener("DOMContentLoaded", function() {
	// load highlighted code blocks
    $('pre code').each(function(i, block) {
      hljs.highlightBlock(block);
    });
	jQuery(".collapsible").each(function(i,e){
		collapseStuff(e,"Hide the code", "Display the code");
	});
	/*
	DO NOT show the explanation
	collapseStuff("#explanation","Hide the icon explanation", "Display the icon explanation");
	jQuery("#explanation").css("display", "block");
	*/
});
function collapseStuff(e, textHidden, textDisplayed){
	var divHigh = $(e);
	var children = divHigh.children();
	children.hide();
	var toggleBox = document.createElement("div");
	toggleBox.className = "tutorials-togglebox";
	divHigh.prepend(toggleBox);
	var awesomeIcon = document.createElement("span");
	var awesomeText= document.createElement("span");
	awesomeIcon.className = "tutorials-togglebox-icon glyphicon glyphicon-chevron-down";
	awesomeText.textContent = "Display the code";
	awesomeText.className = "tutorials-togglebox-text";
	toggleBox.appendChild(awesomeIcon);
	toggleBox.appendChild(awesomeText);
	awesomeText.textContent = textDisplayed;
	$(toggleBox).click(function(){
		var codeBox = children;
		var text = divHigh.children().first();
		if( codeBox.css("display") == "none" ){
			codeBox.show(700);
			awesomeText.textContent = textHidden;
			awesomeIcon.className = "tutorials-togglebox-icon glyphicon glyphicon-chevron-up";
		}else{
			codeBox.hide(500);
			awesomeText.textContent = textDisplayed;
			awesomeIcon.className = "tutorials-togglebox-icon glyphicon glyphicon-chevron-down";
		}
	});
};
</script>

<script src="/js/highlight.min.js"></script>

	</div>
		
		</div>
		<!--
		<div class="footer">
			<div class="improve-this-page">
				<span class="glyphicon glyphicon-pencil"></span> <a href="https://github.com/biojs/edu/blob/master/series/developer-manual/40_visualization_basic.md">Improve this page</a>
			</div>

			<div id="privacy-notice-less" class="privacy-policy">
				Privacy Policy.
			</div>
			<div id="privacy-notice-more"  class="privacy-policy" style="display:none">
				This website uses Google Analytics to collect anonymous visiting stats.<br />
				By visiting this site you agree to the <a href="https://www.google.com/analytics/terms/us.html">data processing agreement</a> by Google.<br />
				If you do not agree, <a href="http://www.usa.gov/optout-instructions.shtml">opt out</a>.
			</div>
		
		</div>
		-->


	<script type="text/javascript" src="/js/jquery.min.js"></script>
	<script type="text/javascript" src="/js/highlight.min.js"></script>
	<script type="text/javascript" src="/js/jquery-scrollspy.js"></script>
	<script type="text/javascript" src="/js/bottom.js"></script>
	<script type="text/javascript" src="/js/bootstrap.min.js"></script>

			<script type="text/javascript">
	        $(document).ready(function() {
        			$('.color').each(function(i) {
        				var position = $(this).position();
        				console.log(position);
        				console.log('min: ' + position.top + ' / max: ' + parseInt(position.top + $(this).height()));
        				$(this).scrollspy({
        					min: position.top,
        					max: position.top + $(this).height(),
        					onEnter: function(element, position) {
        						if(console) console.log('entering ' +  element.id);
        						$("body").css('background-color', element.id);
        					},
        					onLeave: function(element, position) {
        						if(console) console.log('leaving ' +  element.id);
        					//	$('body').css('background-color','#eee');
        					}
        				});
        			});
        		});
        	</script>
	<script type="text/javascript">

		/*
		$(window).scroll(function(){
    		$(".topNavbar").css({"top": ($(window).scrollTop()) + "px"});        
    		if ($(window).scrollTop() > 140){
	    		$(".leftPanel").css({"top": ($(window).scrollTop()) -140 + "px"});
			}
    	});
    	*/

		$('.pullButton').click(function(e){
			$("#biojs-menu").css("display","block");
			$("#biojs-main-content").css("margin-left","220px");
			$(".pullButton").removeClass("pullButton-mob");
			e.stopPropagation();
			return false;
		});

		$(window).click(function(){
			closeMenu();
		});
		$('.Menu').click(function(){
			closeMenu();
		});

		function closeMenu(){
			if(isMobile()){
				$("#biojs-menu").css("display","none");
				$(".pullButton").addClass("pullButton-mob");
				$("#biojs-main-content").css("margin-left","0px");
			}
		}
		function isMobile(){
			return $(window).width() <= 600;
		}

	</script>


	


	<script>hljs.initHighlightingOnLoad();</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51509688-5', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
